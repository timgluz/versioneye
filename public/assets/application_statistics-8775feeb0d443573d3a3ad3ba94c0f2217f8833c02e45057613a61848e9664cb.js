function getLanguageColor(t){var e={"default":"#333333",java:"#544FD6",ruby:"#DC143C",c:"#33A1C9","c++":"#104E8B","c#":"#00BFFF",groovy:"#006400",python:"#EE7600",r:"#8B7D6B",javascript:"#9ACD32","node.js":"#6B8E23",php:"#8B6914",clojure:"#999999"},n=t.toLowerCase();return _.has(e,n)?e[n]:e["default"]}function renderSummaryPlot(t,e){var n=[],i=[],r=[],o=e.sort(function(t,e){return t.value<e.value});o.forEach(function(t){n.push(t.name),i.push(t.value),r.push(getLanguageColor(t.name))});var s={labels:n,datasets:[{label:"Number of packages",data:i,backgroundColor:r}],options:{legend:{display:!1}}};new Chart(t,{type:"horizontalBar",data:s})}function renderTrendPlot(t,e){var n=[],i={r:[],"C#":[],java:[],ruby:[],python:[],nodejs:[],php:[],clojure:[],"objective-c":[]};e.forEach(function(t){n.push(reformatDate(t.date,"YYYY-MM-DD","YYYY.MM")),_.each(t,function(t,e){"date"!==e&&i[e].push(t)})});var r=[];_.each(i,function(t,e){r.push({label:e,data:t,borderColor:getLanguageColor(e)})});var o={labels:n,datasets:r};new Chart(t,{type:"line",data:o})}jQuery(document).ready(function(){jQuery("#q").tbHinter({text:"json"});var t=document.location.origin;jQuery("#plot-summary").length&&(console.log("Going to render summary plot"),jQuery.getJSON(t+"/statistics/proglangs",function(t){renderSummaryPlot($("#plot-summary"),t)})),jQuery("#plot-trends").length&&(console.log("Going to render trends container"),jQuery.getJSON(t+"/statistics/langtrends",function(t){renderTrendPlot($("#plot-trends"),t)}))});